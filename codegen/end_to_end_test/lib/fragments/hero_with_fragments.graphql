query HeroWithFragments($first: Int) {
  hero(episode: JEDI) {
    ...characterFields
    ## FAIL - These fail to resolve fields on Interface extended Type
    # ...humanFields
    # ...droidFields

    ## PASS - This is fine if the fragment nest in and in-line that is a TypedNode
    # ... on Human {
    #    ...humanFields
    # }
    # ... on Droid {
    #   ...droidFields
    # }
  }
}

fragment humanFields on Human {
  homePlanet
}

fragment droidFields on Droid {
  primaryFunction
}

fragment characterFields on Character {
  id
  name

  #### THIS IS OUR CORE BUG ####
  ## FAIL - This fails even as an in-line fragment referencing a TypedNode fragment
  # ... on Droid {
  #   ...droidFields
  # }
  ## FAIL - This fails even as an in-line fragment w/ just Typed field ref
  # ... on Human {
  #   homePlanet
  # }
}
