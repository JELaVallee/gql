query SearchWithUnionResults($text: String!) {
  search(text: $text) {
    ...on Human {
      name
      homePlanet
    }
    ...on Droid {
      name
      primaryFunction
    }
    ...on Starship {
      name
      length
    }
  }
}

query SearchWithUnionResultsOnTypedFragments($text: String!) {
  search(text: $text) {
    ...on Human {
      ...humanFieldsFragment
    }
    ...on Droid {
      ...droidFieldsFragment
    }
    ...on Starship {
      ...starshipFieldsFragment
    }
  }
}

query SearchWithUnionResultsOnUnionFragment($text: String!) {
  search(text: $text) {
    ...on SearchResult {
      ...searchResultsFragment
    }
  }
}

fragment searchResultsFragment on SearchResult {
  ...on Human {
    name
    homePlanet
  }
  ...on Droid {
    name
    primaryFunction
  }
  ...on Starship {
    name
    length
  }
}

fragment humanFieldsFragment on Human {
  name
  homePlanet
}

fragment droidFieldsFragment on Droid {
  name
  primaryFunction
}

fragment starshipFieldsFragment on Starship {
  name
  length
}
